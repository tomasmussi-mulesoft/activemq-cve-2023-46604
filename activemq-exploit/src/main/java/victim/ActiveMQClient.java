package victim;

import org.apache.activemq.ActiveMQConnectionFactory;

import javax.jms.Connection;
import javax.jms.JMSException;

public class ActiveMQClient {

    public static void main(String[] args) {
        // Set the broker URL
        String brokerURL = "tcp://localhost:61616";

        // Create a connection factory
        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory("user", "password", brokerURL);

        // Create a connection
        try (Connection connection = connectionFactory.createConnection()) {
            // Start the connection
            connection.start();

            // Sleep for 10 seconds to allow remote code execution before terminating the process
            while (true) {
                Thread.sleep(10000);
            }

        } catch (JMSException | InterruptedException e) {
            e.printStackTrace();
        }
    }
}
